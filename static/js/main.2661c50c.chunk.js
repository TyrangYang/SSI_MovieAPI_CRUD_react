(this["webpackJsonpcrud-react"]=this["webpackJsonpcrud-react"]||[]).push([[0],{114:function(e,t,a){"use strict";a.r(t);var i=a(1),n=a.n(i),r=a(10),o=a.n(r),c=(a(89),a(90),a(9)),l=a(18),s=a(13),u=a(52),m=a(70),d=a.n(m),v=Object(u.b)({name:"movieDataSlice",initialState:{movies:[],initialized:!1,favoriteMovies:[],totalPages:0},reducers:{setMovies:function(e,t){return Object(s.a)(Object(s.a)({},e),{},{movies:t.payload.movies,initialized:!0,totalPages:t.payload.totalPages})},addMovies:function(e,t){return Object(s.a)(Object(s.a)({},e),{},{movies:[t.payload].concat(Object(c.a)(e.movies))})},deleteMovies:function(e,t){return Object(s.a)(Object(s.a)({},e),{},{movies:e.movies.filter((function(e){return e.id!==t.payload.id})),favoriteMovies:e.favoriteMovies.filter((function(e){return e.id!==t.payload.id}))})},addFavoriteMovie:function(e,t){return Object(s.a)(Object(s.a)({},e),{},{movies:e.movies.map((function(e){var a=Object(s.a)({},e);return a.id===t.payload.id&&(a.isFavorite=!0),a})),favoriteMovies:[].concat(Object(c.a)(e.favoriteMovies),[Object(s.a)({},e.movies.filter((function(e){return e.id===t.payload.id})).map((function(e){var t=Object(s.a)({},e);return t.isFavorite=!0,t}))[0])])})},removeFavoriteMovie:function(e,t){return Object(s.a)(Object(s.a)({},e),{},{movies:e.movies.map((function(e){var a=Object(s.a)({},e);return a.id===t.payload.id&&(a.isFavorite=!1),a})),favoriteMovies:e.favoriteMovies.filter((function(e){return e.id!==t.payload.id}))})},editMovie:function(e,t){return Object(s.a)(Object(s.a)({},e),{},{movies:e.movies.map((function(e){var a=Object(s.a)({},e);return e.id===t.payload.id&&(a.popularity=t.payload.popularity,a.title=t.payload.title),a})),favoriteMovies:e.favoriteMovies.map((function(e){var a=Object(s.a)({},e);return e.id===t.payload.id&&(a.popularity=t.payload.popularity,a.title=t.payload.title),a}))})}}}),p=v.actions,f=p.addMovies,b=p.deleteMovies,E=p.setMovies,y=p.addFavoriteMovie,C=p.removeFavoriteMovie,O=p.editMovie,g=v.reducer,j=a(24),_=a(148),M=a(152),N=a(46),h=a(75),x=a(26),S=a.n(x);var B=n.a.memo((function(e){var t=e.id,a=e.popularity,i=e.title,r=e.isFavorite,o=e.setInitEditCard,c=e.setDisplayEditCard,l=Object(j.b)();return n.a.createElement("div",{className:S.a.itemContainer},n.a.createElement(_.a,{elevation:3},n.a.createElement(M.a,{container:!0,className:S.a.contentContainer},n.a.createElement(M.a,{item:!0,xs:1},r?n.a.createElement(N.c,{className:"".concat(S.a.svgBtn," ").concat(S.a.svgBtnStar),onClick:function(){return l(C({id:t}))}}):n.a.createElement(N.d,{className:"".concat(S.a.svgBtn," ").concat(S.a.svgBtnStar),onClick:function(){return l(y({id:t}))}})),n.a.createElement(M.a,{item:!0,xs:6},n.a.createElement("p",null," ",i," ")),n.a.createElement(M.a,{item:!0,xs:2},n.a.createElement("p",null," ",a," ")),n.a.createElement(M.a,{item:!0,xs:1},n.a.createElement(N.a,{className:"".concat(S.a.svgBtn," ").concat(S.a.svgBtnDel),onClick:function(){window.confirm("Want deleted?")&&l(b({id:t}))}})),n.a.createElement(M.a,{item:!0,xs:1},n.a.createElement(N.b,{className:"".concat(S.a.svgBtn),onClick:function(){c(!0),o({id:t,title:i,popularity:a})}})),n.a.createElement(M.a,{item:!0,xs:1},n.a.createElement(h.a,{className:"".concat(S.a.svgBtn)})))))})),P=a(153),I=a(156),k=a(154),D=a(53),w=a(40),F=a.n(w);function T(e){var t=e.initState,a=t.id,i=t.title,r=t.popularity,o=e.setDisplayEditCard,c=Object(D.a)(),l=c.register,s=c.handleSubmit,u=Object(j.b)();return n.a.createElement("div",{className:F.a.editCardBackground},n.a.createElement(P.a,{maxWidth:"xs",className:F.a.test},n.a.createElement(_.a,{elevation:3,className:F.a.cardContainer},n.a.createElement("span",{className:F.a.closeTag,onClick:function(){o(!1)}},"\xd7"),n.a.createElement("form",{className:F.a.formContainer,onSubmit:s((function(e){u(O({id:a,title:e.title,popularity:e.popularity})),o(!1)}))},n.a.createElement(I.a,{label:"TITLE:",name:"title",inputRef:l(),defaultValue:i,required:!0}),n.a.createElement(I.a,{label:"POPULARITY:",name:"popularity",type:"tel",inputRef:l(),defaultValue:r,required:!0}),n.a.createElement(k.a,{type:"submit",variant:"contained",color:"primary"},"CHANGE")))))}var A=a(158);var z=n.a.memo((function(e){var t=e.moviesToDisplay,a=e.curPageNum,i=e.setCurPageNum,r=e.totalPages,o=e.setInitEditCard,c=e.setDisplayEditCard;return n.a.createElement("div",null,t.map((function(e){return n.a.createElement(B,{key:e.id,id:e.id,popularity:e.popularity,title:e.title,isFavorite:e.isFavorite,setInitEditCard:o,setDisplayEditCard:c})})),n.a.createElement(A.a,{count:r,page:a,onChange:function(e,t){return i(t)},color:"primary"}))})),R=a(157),W=a(155),J=a(161),V=a(159),q=a(57),L=a.n(q);function G(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.allMovies})),a=t.movies,r=t.favoriteMovies,o=t.initialized,s=t.totalPages,u=Object(i.useState)(1),m=Object(l.a)(u,2),v=m[0],p=m[1],f=Object(i.useState)({id:null,title:"123",popularity:100}),b=Object(l.a)(f,2),y=b[0],C=b[1],O=Object(i.useState)(!1),g=Object(l.a)(O,2),_=g[0],M=g[1],N=Object(i.useState)(0),h=Object(l.a)(N,2),x=h[0],S=h[1],I=Object(i.useState)(!1),k=Object(l.a)(I,2),D=k[0],w=k[1];Object(i.useEffect)((function(){var t;e((t=v,function(e){d.a.get("".concat("https://api.themoviedb.org/3/movie","/popular?api_key=").concat("ae09140db64f8c19eae245a3b5feed8a","&language=en-US&page=").concat(t)).then((function(t){var a=t.data,i=a.results.map((function(e){return{id:e.id,popularity:e.popularity,title:e.title,isFavorite:!1}})),n=a.total_pages;e(E({movies:i,totalPages:n}))}))}))}),[e,v]);var F=Object(i.useMemo)((function(){return D?Object(c.a)(a).sort((function(e,t){return e.title<t.title?-1:e.title>t.title?1:0})):a}),[a,D]),A=Object(i.useMemo)((function(){return D?Object(c.a)(r).sort((function(e,t){return e.title<t.title?-1:e.title>t.title?1:0})):r}),[r,D]);return n.a.createElement(P.a,{maxWidth:"md"},_&&n.a.createElement(T,{initState:y,setDisplayEditCard:M}),n.a.createElement("div",{className:L.a.tabContainer},n.a.createElement(R.a,{value:x,onChange:function(e,t){S(t)}},n.a.createElement(W.a,{label:"All Movies"}),n.a.createElement(W.a,{label:"Favorite Movies"})),n.a.createElement(J.a,{control:n.a.createElement(V.a,{value:D,onChange:function(){w(!D)}}),label:"Sort by Name"})),o&&0===x&&n.a.createElement(z,{moviesToDisplay:F,curPageNum:v,setCurPageNum:p,totalPages:s,setInitEditCard:C,setDisplayEditCard:M}),1===x&&(0===A.length?n.a.createElement("div",{className:L.a.emptyText},n.a.createElement("h2",null,"No favorite Movie currently")):A.map((function(e){return n.a.createElement(B,{key:e.id+"_fav",id:e.id,popularity:e.popularity,title:e.title,isFavorite:e.isFavorite,setInitEditCard:C,setDisplayEditCard:M})}))))}var H=a(160),U=a(58),Y=a.n(U);function K(){var e=Object(j.b)(),t=Object(D.a)(),a=t.register,i=t.handleSubmit;return n.a.createElement(P.a,{maxWidth:"md"},n.a.createElement("form",{className:Y.a.formContainer,onSubmit:i((function(t){e(f(Object(s.a)(Object(s.a)({},t),{},{id:Object(H.a)()})))}))},n.a.createElement(I.a,{label:"TITLE:",name:"title",inputRef:a(),required:!0}),n.a.createElement(I.a,{label:"POPULARITY:",name:"popularity",type:"tel",inputRef:a(),required:!0}),n.a.createElement("div",{className:Y.a.buttonContainer},n.a.createElement(k.a,{type:"submit",variant:"contained",color:"primary"},"Add"))))}var X=function(){return n.a.createElement("div",{className:"App"},n.a.createElement("h1",{style:{fontSize:"50px",textAlign:"center"}},"MOVIE"),n.a.createElement(K,null),n.a.createElement(G,null))},$=Object(u.a)({reducer:{allMovies:g}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(j.a,{store:$},n.a.createElement(X,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},26:function(e,t,a){e.exports={itemContainer:"MovieItem_itemContainer__3VBNf",contentContainer:"MovieItem_contentContainer__3m66u",svgBtn:"MovieItem_svgBtn__1HJJJ",svgBtnStar:"MovieItem_svgBtnStar__22z4b",svgBtnDel:"MovieItem_svgBtnDel__3dGKV"}},40:function(e,t,a){e.exports={editCardBackground:"EditCard_editCardBackground__3M84O",cardContainer:"EditCard_cardContainer__2GHza",closeTag:"EditCard_closeTag__3R45N",formContainer:"EditCard_formContainer__39Pw5",test:"EditCard_test__swnz5"}},57:function(e,t,a){e.exports={tabContainer:"MovieDisplayPanel_tabContainer__1aX5I",emptyText:"MovieDisplayPanel_emptyText__1c_vO"}},58:function(e,t,a){e.exports={formContainer:"AddNewMovie_formContainer__3lSxB",buttonContainer:"AddNewMovie_buttonContainer__3CxYu"}},84:function(e,t,a){e.exports=a(114)},89:function(e,t,a){},90:function(e,t,a){}},[[84,1,2]]]);
//# sourceMappingURL=main.2661c50c.chunk.js.map